# ğŸ¨ Diagrama Visual - Nuevo DiseÃ±o

## Estructura General

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HISTORIAL CLÃNICO                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  [ğŸ” Buscar cliente...]                           [+ Nuevo] ğŸ¯   â”‚ â† FILA 1 (Primaria)
â”‚                                                                    â”‚
â”‚  [âš™ï¸ Filtros]  ğŸ“Œ Panel Desplegable              [Orden: ... â–¼]  â”‚ â† FILA 2 (Secundaria)
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚   â”‚ Filtrar resultados       [âœ•]â”‚                                â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                â”‚
â”‚   â”‚ ğŸ“‹ Estado del Historial    â”‚                                â”‚
â”‚   â”‚ [Todos                    â–¼]â”‚                                â”‚
â”‚   â”‚                             â”‚                                â”‚
â”‚   â”‚ ğŸ’³ CrÃ©dito Personal        â”‚                                â”‚
â”‚   â”‚ [Todos                    â–¼]â”‚                                â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                â”‚
â”‚   â”‚ [Limpiar] [âœ“ Aplicar]      â”‚                                â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                                                                    â”‚
â”‚  15 resultado(s) encontrado(s)                                    â”‚ â† Resultado de bÃºsqueda
â”‚                                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  TABLA DE CLIENTES                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Cliente â”‚ CÃ©dula â”‚ TelÃ©fono â”‚ Historial â”‚ CrÃ©dito â”‚ Deuda â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Juan... â”‚ 1234.. â”‚ 555-... â”‚ âœ“ Con...  â”‚ SÃ­     â”‚ Al...â”‚ â”‚
â”‚  â”‚ MarÃ­a.. â”‚ 5678.. â”‚ 555-... â”‚ âœ— Sin...  â”‚ No     â”‚ Debe â”‚ â”‚
â”‚  â”‚ ...     â”‚ ...    â”‚ ...     â”‚ ...       â”‚ ...    â”‚ ...   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                    â”‚
â”‚  Mostrando 1-10 de 45 clientes                                   â”‚
â”‚  [Â« Primera] [â† Anterior] [Siguiente â†’] [Ãšltima Â»]              â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Panel de Filtros - Detallado

### Estado Cerrado
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš™ï¸ Filtros              â”‚  â† BotÃ³n cerrado
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Estado Abierto
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš™ï¸ Filtros (Activo)                      â”‚  â† BotÃ³n activo (bg primario)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“ Panel Desplegable Abierto

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ğŸ¯ Filtrar resultados            [âœ•] â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚                                      â”‚
        â”‚ ğŸ“‹ Estado del Historial              â”‚
        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚ â”‚ Todos                        â–¼ â”‚  â”‚
        â”‚ â”‚ â€¢ Con historial              â”‚  â”‚
        â”‚ â”‚ â€¢ Sin historial              â”‚  â”‚
        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                                      â”‚
        â”‚ ğŸ’³ CrÃ©dito Personal                 â”‚
        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚ â”‚ Todos                        â–¼ â”‚  â”‚
        â”‚ â”‚ â€¢ Solo con crÃ©dito personal  â”‚  â”‚
        â”‚ â”‚ â€¢ Sin crÃ©dito personal       â”‚  â”‚
        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                                      â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ [Limpiar filtros] [âœ“ Aplicar filtros]â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Flujo de InteracciÃ³n

### Escenario 1: Abrir y Cerrar Panel

```
Usuario hace clic en [âš™ï¸ Filtros]
        â†“
togglePanelFiltros() ejecuta
        â†“
mostrarPanelFiltros = !mostrarPanelFiltros (true)
        â†“
Panel se muestra con animaciÃ³n slideDown
        â†“
        [Usuario hace clic en âœ•]
        â†“
cerrarPanelFiltros() ejecuta
        â†“
mostrarPanelFiltros = false
        â†“
Panel desaparece
```

### Escenario 2: Aplicar Filtros

```
Panel abierto
        â†“
Usuario selecciona:
  - "Con historial" en Estado
  - "Solo con crÃ©dito personal" en CrÃ©dito
        â†“
Usuario hace clic en [âœ“ Aplicar filtros]
        â†“
aplicarFiltrosYCerrar() ejecuta
        â†“
aplicarFiltro() filtra la tabla
        â†“
cerrarPanelFiltros() cierra el panel
        â†“
Tabla actualizada + Panel cerrado
```

### Escenario 3: Limpiar Filtros

```
Panel abierto con filtros activos
        â†“
Usuario hace clic en [Limpiar filtros]
        â†“
limpiarFiltros() ejecuta:
  - filtroEstado = 'todos'
  - filtroCredito = 'todos'
  - ordenarPor = 'fecha'
        â†“
aplicarFiltro() se ejecuta
        â†“
cerrarPanelFiltros() cierra panel
        â†“
Tabla muestra todos + Panel cerrado
```

---

## Responsive - Puntos de Quiebre

### Desktop (> 768px)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ” Buscar] ........................[+ Nuevo]â”‚
â”‚ [âš™ï¸ Filtros]    Dropdown Panel    [Orden â–¼] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ (Tabla con scroll horizontal)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Panel: PosiciÃ³n absolute, ancho max 280px
```

### Tablet (480px - 768px)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ” Buscar...]    â”‚
â”‚                   â”‚
â”‚ [+ Nuevo]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [âš™ï¸ Filtros]      â”‚
â”‚ Dropdown Panel    â”‚
â”‚                   â”‚
â”‚ [Orden â–¼]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ (Tabla apilada)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Panel: Ancho 90% de pantalla
```

### MÃ³vil (< 480px)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ” Buscar...] â”‚
â”‚                 â”‚
â”‚ [+ Nuevo]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [âš™ï¸ Filtros]    â”‚
â”‚ [Orden â–¼]       â”‚
â”‚                 â”‚
â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚ â† Panel modal
â”‚ â•‘ Filtrar ... â•‘ â”‚
â”‚ â•‘             â•‘ â”‚
â”‚ â•‘ [Limpiar]   â•‘ â”‚
â”‚ â•‘ [Aplicar]   â•‘ â”‚
â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ (Tabla simple)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Panel: fixed, bottom: 0, full-width
```

---

## Comparativa: Antes vs. DespuÃ©s

### ANTES (Problema)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Historial ClÃ­nico                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ” Buscar...] [Todos â–¼] [CrÃ©dito: Todos â–¼] [Orden â–¼] [+ Nuevo] â”‚
â”‚ âŒ Confuso: muchos elementos competitivos               â”‚
â”‚ âŒ DifÃ­cil de extender                                  â”‚
â”‚ âŒ Pobre en mÃ³vil                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### DESPUÃ‰S (SoluciÃ³n)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Historial ClÃ­nico                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ” Buscar...]        [+ Nuevo]     â”‚ âœ“ Claro
â”‚                                      â”‚ âœ“ Priorizado
â”‚ [âš™ï¸ Filtros] Dropdown [Orden â–¼]     â”‚ âœ“ Extensible
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ âœ“ Mobile-first
â”‚ Tabla limpia                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Colores y Variables CSS

El diseÃ±o usa variables del tema existente:

```css
/* Botones */
--btn-primary-bg       /* Colores para "Aplicar filtros" */
--btn-secondary-bg     /* Colores para "Limpiar filtros" */

/* Fondos */
--bg-card              /* Panel desplegable */
--bg-secondary         /* Header */
--bg-hover             /* Estados hover */

/* Bordes y Sombras */
--border-color         /* Separadores */
--shadow-lg            /* Sombra del panel */

/* Inputs */
--input-bg             /* Selectores en panel */
--input-border         /* Bordes de inputs */
--input-focus-border   /* Enfoque de inputs */

/* Texto */
--text-primary         /* Labels y tÃ­tulos */
--text-secondary       /* Texto auxiliar */
--text-muted           /* Deshabilitado */
```

Todos estos colores adaptan automÃ¡ticamente al tema claro/oscuro.

---

## Accesibilidad (WCAG 2.1)

âœ… **Contraste:** Cumple ratio 4.5:1 (texto sobre fondo)
âœ… **Labels:** Cada input tiene etiqueta visible asociada
âœ… **Focus:** Estados de enfoque claramente visibles
âœ… **SemÃ¡ntica:** Estructura HTML semÃ¡ntica (labels, buttons)
âœ… **TÃ­tulos:** Botones tienen `title` attribute para tooltips
âœ… **Animaciones:** No hay movimiento excesivo que cause mareos

---

## Animaciones

### Panel de Filtros
```css
@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* DuraciÃ³n: 0.2s */
/* Timing: ease-out */
```

### Transiciones de Botones
```css
transition: all var(--transition-fast);  /* 0.2s */
```

---

## Casos de Uso

### Caso 1: Usuario busca cliente por nombre
1. Escribe en `[ğŸ” Buscar...]`
2. Tabla filtra en tiempo real
3. Ve "15 resultado(s) encontrado(s)"
âœ… **Flujo claro y rÃ¡pido**

### Caso 2: Usuario aplica mÃºltiples filtros
1. Hace clic en `[âš™ï¸ Filtros]`
2. Abre panel desplegable
3. Selecciona "Con historial" y "Solo con crÃ©dito"
4. Hace clic en "Aplicar filtros"
5. Tabla actualizada, panel se cierra
âœ… **IntenciÃ³n clara, ejecuciÃ³n fluida**

### Caso 3: Usuario quiere ver todos los clientes
1. Tiene filtros activos aplicados
2. Hace clic en `[âš™ï¸ Filtros]`
3. Hace clic en "Limpiar filtros"
4. Vuelve al estado inicial
âœ… **Una acciÃ³n = reset completo**

---

## Performance

- âœ… **CSS modular:** Sin duplicaciones
- âœ… **Animaciones GPU:** `transform` y `opacity` solo
- âœ… **Sin JS innecesario:** Solo bindings de Angular
- âœ… **Responsive:** Usa media queries, no JavaScript
- âœ… **Componente standalone:** Carga bajo demanda

---

**Documento generado:** 26/01/2025  
**Status:** âœ… Listo para revisiÃ³n y deployment
