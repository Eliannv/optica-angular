<div class="form-container">
    <div class="form-card">
        <!-- HEADER -->
        <div class="form-header">
            <div class="header-content">
                <h1 class="form-title">üîì Abrir Nueva Caja Chica</h1>
                <button class="btn-secondary" (click)="volver()">‚Üê Atr√°s</button>
            </div>
        </div>

        <!-- FORMULARIO -->
        <form [formGroup]="form" (ngSubmit)="abrirCaja()" class="form-body">
            <!-- FECHA -->
            <div class="form-group">
                <label for="fecha">Fecha de Apertura *</label>
                <input id="fecha" type="date" formControlName="fecha" class="form-control" />
            </div>

            <!-- MONTO INICIAL -->
            <div class="form-group">
                <label for="monto_inicial">Monto Inicial *</label>
                <input id="monto_inicial" type="number" formControlName="monto_inicial" class="form-control" placeholder="0.00" step="0.01" min="0" [class.error]="montoControl?.touched && montoControl?.invalid" />
                <ng-container *ngIf="montoControl?.touched && montoControl?.invalid">
                    <span class="error-text">
            <ng-container *ngIf="montoControl?.errors?.['required']">
              El monto inicial es requerido
            </ng-container>
            <ng-container *ngIf="montoControl?.errors?.['min']">
              El monto debe ser mayor o igual a 0
            </ng-container>
          </span>
                </ng-container>
            </div>

            <!-- OBSERVACI√ìN -->
            <div class="form-group">
                <label for="observacion">Observaci√≥n (Opcional)</label>
                <textarea id="observacion" formControlName="observacion" class="form-control textarea" placeholder="Detalles sobre la apertura de caja..." rows="3"></textarea>
            </div>

            <!-- MENSAJES DE ERROR -->
            <div *ngIf="error" class="alert alert-error">
                {{ error }}
            </div>

            <!-- BOTONES -->
            <div class="form-actions">
                <button type="button" class="btn-secondary" (click)="volver()" [disabled]="cargando">
          Cancelar
        </button>
                <button type="submit" class="btn-primary" [disabled]="form.invalid || cargando">
          <span *ngIf="!cargando">‚úì Abrir Caja</span>
          <span *ngIf="cargando">Abriendo...</span>
        </button>
            </div>
        </form>
    </div>
</div>