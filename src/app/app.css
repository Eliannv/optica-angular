/**
 * Estilos del componente raíz de la aplicación.
 * 
 * Define el layout principal con una estructura flexible de 3 capas:
 * 1. Navbar: Barra superior fija con z-index 1000
 * 2. Content wrapper: Contenedor flex que aloja sidebar y main content
 * 3. Footer: Pie de página fuera del scroll principal
 * 
 * El layout es completamente responsivo con breakpoint en 1150px:
 * - Desktop (≥1150px): Sidebar fijo lateral, main content con scroll independiente
 * - Mobile (<1150px): Sidebar tipo drawer con overlay, activado por toggle
 * 
 * Variables CSS del sistema utilizadas:
 * - --bg-secondary: Color de fondo del layout principal
 * - --sidebar-bg: Color de fondo del sidebar
 * - --transition-normal: Velocidad estándar de transiciones
 * 
 * Características de rendimiento:
 * - Uso de will-change para animaciones fluidas
 * - Transform hardware-accelerated para el drawer
 * - Scroll independiente en main-content
 * - Ocultación de scrollbars nativas para diseño limpio
 */

/* Reset y estilos globales */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}


/* ==========================================================================
   LAYOUT PRINCIPAL
   Contenedor flex vertical que ocupa toda la altura del viewport.
   Permite que el contenido crezca y el footer permanezca al final.
   ========================================================================== */

.app-layout {
    display: flex;
    flex-direction: column;
    height: 100vh;
    background-color: var(--bg-secondary);
    transition: background-color var(--transition-normal);
}


/* ==========================================================================
   NAVBAR WRAPPER
   Barra de navegación superior sticky con alto z-index para superposición.
   ========================================================================== */

.navbar-wrapper {
    width: 100%;
    position: sticky;
    top: 0;
    z-index: 1000;
}


/* ==========================================================================
   CONTENT WRAPPER
   Contenedor flex horizontal que aloja sidebar y main content.
   Altura fija calculada: viewport - altura del navbar (64px).
   Previene scroll del contenedor; cada hijo maneja su propio scroll.
   ========================================================================== */

.content-wrapper {
    display: flex;
    flex: 1;
    position: relative;
    overflow: hidden;
    height: calc(100vh - 64px);
    max-height: calc(100vh - 64px);
}


/* ==========================================================================
   SIDEBAR DESKTOP
   Sidebar fijo para vista desktop (≥50px).
   No fuerza width para permitir que el componente sidebar controle su tamaño.
   flex-shrink: 0 previene que se comprima cuando main content crece.
   ========================================================================== */

.sidebar-desktop {
    height: calc(100vh - 64px);
    position: sticky;
    top: 64px;
    overflow: hidden;
    flex-shrink: 0;
    display: block;
    min-width: 0;
}


/* ==========================================================================
   SIDEBAR MÓVIL (DRAWER)
   Sistema de drawer deslizante con overlay para vista móvil (<1150px).
   Overlay: Fondo oscuro difuminado que permite cerrar el sidebar.
   Drawer: Panel deslizante desde la izquierda con animación suave.
   ========================================================================== */

.sidebar-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    z-index: 1001;
    animation: fadeInOverlay 0.25s ease;
    pointer-events: auto;
    touch-action: none;
}

@keyframes fadeInOverlay {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

.sidebar-drawer {
    position: fixed;
    top: 0;
    left: -280px;
    bottom: 0;
    width: 260px;
    z-index: 1002;
    transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1), width 0.25s ease;
    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3);
    will-change: left, width;
    background: var(--sidebar-bg);
}

.sidebar-drawer.active {
    left: 0;
}

.inside-drawer {
    height: 100%;
    width: 100%;
    overflow-y: auto;
    overflow-x: hidden;
}


/* ==========================================================================
   MAIN CONTENT
   Área principal de contenido con scroll independiente.
   - Oculta scrollbars nativas para diseño limpio
   - Padding responsivo que se reduce en pantallas pequeñas
   - Transición suave de color de fondo para cambios de tema
   ========================================================================== */

.main-content {
    flex: 1;
    background-color: var(--bg-secondary);
    padding: 1.5rem 2rem;
    overflow-y: auto;
    overflow-x: hidden;
    height: 100%;
    max-height: 100%;
    transition: background-color var(--transition-normal);
    scrollbar-width: none;
    -ms-overflow-style: none;
}

.main-content::-webkit-scrollbar {
    width: 0;
    height: 0;
}


/* ==========================================================================
   ANIMACIONES
   Animación fade-in genérica para aparición suave de elementos.
   ========================================================================== */

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}


/* ==========================================================================
   RESPONSIVE DESIGN
   Breakpoints:
   - 1149px: Cambio entre desktop y mobile (oculta sidebar desktop)
   - 768px: Tablets (reduce padding, ajusta altura navbar)
   - 480px: Móviles pequeños (sidebar ocupa 85% del ancho)
   ========================================================================== */

@media (max-width: 1149px) {
    .main-content {
        padding: 1rem 1.5rem;
    }
    .sidebar-desktop {
        display: none !important;
    }
}

@media (min-width: 1150px) {
    .sidebar-drawer,
    .sidebar-overlay {
        display: none !important;
    }
}

@media (max-width: 768px) {
    .main-content {
        padding: 0.75rem 1rem;
    }
    .content-wrapper {
        height: calc(100vh - 56px);
        max-height: calc(100vh - 56px);
    }
    .sidebar-drawer {
        width: 280px;
        left: -300px;
    }
}

@media (max-width: 480px) {
    .main-content {
        padding: 0.5rem 0.75rem;
    }
    .sidebar-drawer {
        width: 85vw;
        max-width: 280px;
    }
}


/* ==========================================================================
   CLASES UTILITARIAS
   Helpers genéricos para mostrar/ocultar elementos.
   ========================================================================== */

.hidden {
    display: none;
}

.visible {
    display: block;
}